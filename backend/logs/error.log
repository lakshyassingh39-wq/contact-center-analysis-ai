{"level":"error","message":"Demo login error: secretOrPrivateKey must have a value","service":"omind-ai-backend","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/auth.js:227:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:31:52"}
{"level":"error","message":"Demo login error: secretOrPrivateKey must have a value","service":"omind-ai-backend","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/auth.js:227:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:33:24"}
{"level":"error","message":"Demo login error: secretOrPrivateKey must have a value","service":"omind-ai-backend","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/auth.js:227:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:33:28"}
{"level":"error","message":"Analysis failed for call 68ab1d905d99afb7d9c2cc07: aiService.analyzeCallQuality is not a function","service":"omind-ai-backend","stack":"TypeError: aiService.analyzeCallQuality is not a function\n    at analyzeCallAsync (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:223:44)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:198:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:42:39"}
{"level":"error","message":"Analysis failed for call 68ab1d905d99afb7d9c2cc07: aiService.analyzeCallQuality is not a function","service":"omind-ai-backend","stack":"TypeError: aiService.analyzeCallQuality is not a function\n    at analyzeCallAsync (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:223:44)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:198:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:45:57"}
{"_message":"Analysis validation failed","errors":{"overallScore":{"kind":"required","message":"Path `overallScore` is required.","name":"ValidatorError","path":"overallScore","properties":{"message":"Path `overallScore` is required.","path":"overallScore","type":"required"}},"scores.callOpening":{"kind":"Object","message":"Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\"","name":"CastError","path":"scores.callOpening","stringValue":"\"80\"","value":80,"valueType":"number"},"scores.callOpening.score":{"kind":"required","message":"Path `scores.callOpening.score` is required.","name":"ValidatorError","path":"scores.callOpening.score","properties":{"message":"Path `scores.callOpening.score` is required.","path":"scores.callOpening.score","type":"required"}},"scores.csat.confidence":{"kind":"required","message":"Path `scores.csat.confidence` is required.","name":"ValidatorError","path":"scores.csat.confidence","properties":{"message":"Path `scores.csat.confidence` is required.","path":"scores.csat.confidence","type":"required"}},"scores.csat.predictedScore":{"kind":"required","message":"Path `scores.csat.predictedScore` is required.","name":"ValidatorError","path":"scores.csat.predictedScore","properties":{"message":"Path `scores.csat.predictedScore` is required.","path":"scores.csat.predictedScore","type":"required"}},"scores.issueUnderstanding":{"kind":"Object","message":"Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\"","name":"CastError","path":"scores.issueUnderstanding","stringValue":"\"70\"","value":70,"valueType":"number"},"scores.issueUnderstanding.score":{"kind":"required","message":"Path `scores.issueUnderstanding.score` is required.","name":"ValidatorError","path":"scores.issueUnderstanding.score","properties":{"message":"Path `scores.issueUnderstanding.score` is required.","path":"scores.issueUnderstanding.score","type":"required"}},"scores.resolutionQuality":{"kind":"Object","message":"Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\"","name":"CastError","path":"scores.resolutionQuality","stringValue":"\"75\"","value":75,"valueType":"number"},"scores.resolutionQuality.fcr":{"kind":"required","message":"Path `scores.resolutionQuality.fcr` is required.","name":"ValidatorError","path":"scores.resolutionQuality.fcr","properties":{"message":"Path `scores.resolutionQuality.fcr` is required.","path":"scores.resolutionQuality.fcr","type":"required"}},"scores.resolutionQuality.isResolved":{"kind":"required","message":"Path `scores.resolutionQuality.isResolved` is required.","name":"ValidatorError","path":"scores.resolutionQuality.isResolved","properties":{"message":"Path `scores.resolutionQuality.isResolved` is required.","path":"scores.resolutionQuality.isResolved","type":"required"}},"scores.resolutionQuality.score":{"kind":"required","message":"Path `scores.resolutionQuality.score` is required.","name":"ValidatorError","path":"scores.resolutionQuality.score","properties":{"message":"Path `scores.resolutionQuality.score` is required.","path":"scores.resolutionQuality.score","type":"required"}},"scores.sentiment.agentSentiment":{"kind":"required","message":"Path `scores.sentiment.agentSentiment` is required.","name":"ValidatorError","path":"scores.sentiment.agentSentiment","properties":{"message":"Path `scores.sentiment.agentSentiment` is required.","path":"scores.sentiment.agentSentiment","type":"required"}},"scores.sentiment.customerSentiment":{"kind":"required","message":"Path `scores.sentiment.customerSentiment` is required.","name":"ValidatorError","path":"scores.sentiment.customerSentiment","properties":{"message":"Path `scores.sentiment.customerSentiment` is required.","path":"scores.sentiment.customerSentiment","type":"required"}},"scores.sentiment.overallTone":{"kind":"required","message":"Path `scores.sentiment.overallTone` is required.","name":"ValidatorError","path":"scores.sentiment.overallTone","properties":{"message":"Path `scores.sentiment.overallTone` is required.","path":"scores.sentiment.overallTone","type":"required"}}},"level":"error","message":"Analysis failed for call 68ab1d905d99afb7d9c2cc07: Analysis validation failed: scores.callOpening: Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\", scores.issueUnderstanding: Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\", scores.resolutionQuality: Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\", scores.resolutionQuality.fcr: Path `scores.resolutionQuality.fcr` is required., scores.resolutionQuality.isResolved: Path `scores.resolutionQuality.isResolved` is required., scores.resolutionQuality.score: Path `scores.resolutionQuality.score` is required., scores.csat.confidence: Path `scores.csat.confidence` is required., scores.csat.predictedScore: Path `scores.csat.predictedScore` is required., scores.sentiment.overallTone: Path `scores.sentiment.overallTone` is required., scores.sentiment.customerSentiment: Path `scores.sentiment.customerSentiment` is required., scores.sentiment.agentSentiment: Path `scores.sentiment.agentSentiment` is required., scores.issueUnderstanding.score: Path `scores.issueUnderstanding.score` is required., scores.callOpening.score: Path `scores.callOpening.score` is required., overallScore: Path `overallScore` is required.","service":"omind-ai-backend","stack":"ValidationError: Analysis validation failed: scores.callOpening: Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\", scores.issueUnderstanding: Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\", scores.resolutionQuality: Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\", scores.resolutionQuality.fcr: Path `scores.resolutionQuality.fcr` is required., scores.resolutionQuality.isResolved: Path `scores.resolutionQuality.isResolved` is required., scores.resolutionQuality.score: Path `scores.resolutionQuality.score` is required., scores.csat.confidence: Path `scores.csat.confidence` is required., scores.csat.predictedScore: Path `scores.csat.predictedScore` is required., scores.sentiment.overallTone: Path `scores.sentiment.overallTone` is required., scores.sentiment.customerSentiment: Path `scores.sentiment.customerSentiment` is required., scores.sentiment.agentSentiment: Path `scores.sentiment.agentSentiment` is required., scores.issueUnderstanding.score: Path `scores.issueUnderstanding.score` is required., scores.callOpening.score: Path `scores.callOpening.score` is required., overallScore: Path `overallScore` is required.\n    at Document.invalidate (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1225:10)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1214:14)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1104:14)\n    at model.Document (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:165:12)\n    at model.Model (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/model.js:123:12)\n    at new model (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/model.js:4758:15)\n    at analyzeCallAsync (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:227:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:46:48"}
{"_message":"Analysis validation failed","errors":{"overallScore":{"kind":"required","message":"Path `overallScore` is required.","name":"ValidatorError","path":"overallScore","properties":{"message":"Path `overallScore` is required.","path":"overallScore","type":"required"}},"scores.callOpening":{"kind":"Object","message":"Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\"","name":"CastError","path":"scores.callOpening","stringValue":"\"80\"","value":80,"valueType":"number"},"scores.callOpening.score":{"kind":"required","message":"Path `scores.callOpening.score` is required.","name":"ValidatorError","path":"scores.callOpening.score","properties":{"message":"Path `scores.callOpening.score` is required.","path":"scores.callOpening.score","type":"required"}},"scores.csat.confidence":{"kind":"required","message":"Path `scores.csat.confidence` is required.","name":"ValidatorError","path":"scores.csat.confidence","properties":{"message":"Path `scores.csat.confidence` is required.","path":"scores.csat.confidence","type":"required"}},"scores.csat.predictedScore":{"kind":"required","message":"Path `scores.csat.predictedScore` is required.","name":"ValidatorError","path":"scores.csat.predictedScore","properties":{"message":"Path `scores.csat.predictedScore` is required.","path":"scores.csat.predictedScore","type":"required"}},"scores.issueUnderstanding":{"kind":"Object","message":"Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\"","name":"CastError","path":"scores.issueUnderstanding","stringValue":"\"70\"","value":70,"valueType":"number"},"scores.issueUnderstanding.score":{"kind":"required","message":"Path `scores.issueUnderstanding.score` is required.","name":"ValidatorError","path":"scores.issueUnderstanding.score","properties":{"message":"Path `scores.issueUnderstanding.score` is required.","path":"scores.issueUnderstanding.score","type":"required"}},"scores.resolutionQuality":{"kind":"Object","message":"Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\"","name":"CastError","path":"scores.resolutionQuality","stringValue":"\"75\"","value":75,"valueType":"number"},"scores.resolutionQuality.fcr":{"kind":"required","message":"Path `scores.resolutionQuality.fcr` is required.","name":"ValidatorError","path":"scores.resolutionQuality.fcr","properties":{"message":"Path `scores.resolutionQuality.fcr` is required.","path":"scores.resolutionQuality.fcr","type":"required"}},"scores.resolutionQuality.isResolved":{"kind":"required","message":"Path `scores.resolutionQuality.isResolved` is required.","name":"ValidatorError","path":"scores.resolutionQuality.isResolved","properties":{"message":"Path `scores.resolutionQuality.isResolved` is required.","path":"scores.resolutionQuality.isResolved","type":"required"}},"scores.resolutionQuality.score":{"kind":"required","message":"Path `scores.resolutionQuality.score` is required.","name":"ValidatorError","path":"scores.resolutionQuality.score","properties":{"message":"Path `scores.resolutionQuality.score` is required.","path":"scores.resolutionQuality.score","type":"required"}},"scores.sentiment.agentSentiment":{"kind":"required","message":"Path `scores.sentiment.agentSentiment` is required.","name":"ValidatorError","path":"scores.sentiment.agentSentiment","properties":{"message":"Path `scores.sentiment.agentSentiment` is required.","path":"scores.sentiment.agentSentiment","type":"required"}},"scores.sentiment.customerSentiment":{"kind":"required","message":"Path `scores.sentiment.customerSentiment` is required.","name":"ValidatorError","path":"scores.sentiment.customerSentiment","properties":{"message":"Path `scores.sentiment.customerSentiment` is required.","path":"scores.sentiment.customerSentiment","type":"required"}},"scores.sentiment.overallTone":{"kind":"required","message":"Path `scores.sentiment.overallTone` is required.","name":"ValidatorError","path":"scores.sentiment.overallTone","properties":{"message":"Path `scores.sentiment.overallTone` is required.","path":"scores.sentiment.overallTone","type":"required"}}},"level":"error","message":"Analysis failed for call 68ab1d905d99afb7d9c2cc07: Analysis validation failed: scores.callOpening: Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\", scores.issueUnderstanding: Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\", scores.resolutionQuality: Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\", scores.resolutionQuality.fcr: Path `scores.resolutionQuality.fcr` is required., scores.resolutionQuality.isResolved: Path `scores.resolutionQuality.isResolved` is required., scores.resolutionQuality.score: Path `scores.resolutionQuality.score` is required., scores.csat.confidence: Path `scores.csat.confidence` is required., scores.csat.predictedScore: Path `scores.csat.predictedScore` is required., scores.sentiment.overallTone: Path `scores.sentiment.overallTone` is required., scores.sentiment.customerSentiment: Path `scores.sentiment.customerSentiment` is required., scores.sentiment.agentSentiment: Path `scores.sentiment.agentSentiment` is required., scores.issueUnderstanding.score: Path `scores.issueUnderstanding.score` is required., scores.callOpening.score: Path `scores.callOpening.score` is required., overallScore: Path `overallScore` is required.","service":"omind-ai-backend","stack":"ValidationError: Analysis validation failed: scores.callOpening: Cast to Object failed for value \"80\" (type number) at path \"scores.callOpening\", scores.issueUnderstanding: Cast to Object failed for value \"70\" (type number) at path \"scores.issueUnderstanding\", scores.resolutionQuality: Cast to Object failed for value \"75\" (type number) at path \"scores.resolutionQuality\", scores.resolutionQuality.fcr: Path `scores.resolutionQuality.fcr` is required., scores.resolutionQuality.isResolved: Path `scores.resolutionQuality.isResolved` is required., scores.resolutionQuality.score: Path `scores.resolutionQuality.score` is required., scores.csat.confidence: Path `scores.csat.confidence` is required., scores.csat.predictedScore: Path `scores.csat.predictedScore` is required., scores.sentiment.overallTone: Path `scores.sentiment.overallTone` is required., scores.sentiment.customerSentiment: Path `scores.sentiment.customerSentiment` is required., scores.sentiment.agentSentiment: Path `scores.sentiment.agentSentiment` is required., scores.issueUnderstanding.score: Path `scores.issueUnderstanding.score` is required., scores.callOpening.score: Path `scores.callOpening.score` is required., overallScore: Path `overallScore` is required.\n    at Document.invalidate (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1225:10)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1214:14)\n    at model.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1104:14)\n    at model.Document (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:165:12)\n    at model.Model (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/model.js:123:12)\n    at new model (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/model.js:4758:15)\n    at analyzeCallAsync (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/analysis.js:227:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:49:22"}
{"level":"error","message":"Coaching generation failed for call 68ab1d905d99afb7d9c2cc07: aiService.generateCoachingPlan is not a function","service":"omind-ai-backend","stack":"TypeError: aiService.generateCoachingPlan is not a function\n    at generateCoachingAsync (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/coaching.js:105:44)\n    at /Users/pw/Documents/project/python/omind-ai-contact-center/backend/routes/coaching.js:75:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 19:51:28"}
{"_message":"Coaching validation failed","errors":{"progress.bestQuizScore":{"kind":"Number","message":"Cast to Number failed for value \"NaN\" (type number) at path \"progress.bestQuizScore\"","name":"CastError","path":"progress.bestQuizScore","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"NaN\"","value":null,"valueType":"number"},"progress.quizAttempts.0.score":{"kind":"Number","message":"Cast to Number failed for value \"NaN\" (type number) at path \"score\"","name":"CastError","path":"score","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"NaN\"","value":null,"valueType":"number"}},"level":"error","message":"Submit quiz error: Coaching validation failed: progress.quizAttempts.0.score: Cast to Number failed for value \"NaN\" (type number) at path \"score\", progress.bestQuizScore: Cast to Number failed for value \"NaN\" (type number) at path \"progress.bestQuizScore\"","service":"omind-ai-backend","stack":"ValidationError: Coaching validation failed: progress.quizAttempts.0.score: Cast to Number failed for value \"NaN\" (type number) at path \"score\", progress.bestQuizScore: Cast to Number failed for value \"NaN\" (type number) at path \"progress.bestQuizScore\"\n    at Document.invalidate (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at Subdocument.invalidate (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1464:12)\n    at EmbeddedDocument.$set (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:1119:16)\n    at EmbeddedDocument.Document (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/document.js:165:12)\n    at EmbeddedDocument.Subdocument (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/types/ArraySubdocument.js:44:15)\n    at new EmbeddedDocument (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/schema/documentarray.js:127:17)\n    at Proxy._cast (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/types/DocumentArray/methods/index.js:92:17)\n    at Proxy._mapCast (/Users/pw/Documents/project/python/omind-ai-contact-center/backend/node_modules/mongoose/lib/types/array/methods/index.js:263:17)","timestamp":"2025-08-24 21:40:32"}
